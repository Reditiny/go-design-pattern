# 3.9 状态模式
状态模式允许一个对象在其内部状态发生改变时改变其行为，使得对象看起来似乎修改了它的类。  
核心思想是将对象的不同状态封装成不同的状态类，使得对象在不同状态下可以有不同的行为，从而减少条件判断语句的使用，提高代码的可维护性和可读性。

## 案例
通过按钮来控制一个电梯的状态，一个电梯有开门状态，关门状态，停止状态，运行状态。每一种状态改变，都有可能要根据其他状态来更新处理。例如，如果电梯门现在处于运行时状态，就不能进行开门操作，而如果电梯门是停止状态，就可以执行开门操作。

## 状态模式 优缺点

**优点：**

+ 将所有与某个状态有关的行为放到一个类中，并且可以方便地增加新的状态，只需要改变对象状态即可改变对象的行为。
+ 允许状态转换逻辑与状态对象合成一体，而不是某一个巨大的条件语句块。

**缺点：**

+ 状态模式的使用必然会增加系统类和对象的个数。
+ 状态模式的结构与实现都较为复杂，如果使用不当将导致程序结构和代码的混乱。
+ 状态模式对"开闭原则"的支持并不太好。